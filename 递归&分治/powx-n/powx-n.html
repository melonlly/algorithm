<html>
    <body>
        <script>
            /*
                实现 pow(x, n) ，即计算 x 的 n 次幂函数
            */
            /**
             * @param {number} x
             * @param {number} n
             * @return {number}
             */
            // 分治
            var myPow = function (x, n) {
                if (!n) return 1;
                if (n < 0) return 1 / myPow(x, -n); // 主要是求分母 2^-1=1/2  2^-2=1/4  // 小数有精度问题
                if (n % 2) return x * myPow(x, n - 1); // 奇数情况 => x * 偶数情况
                return myPow(x * x, n / 2); // 偶数情况 => 对半分 => 偶数 * 偶数 => (x * 1) * (x * 1)
            };
            // console.log(myPow(2.0, 10));
            // console.log(myPow(2.1, 3));
            // console.log(myPow(2.0, -2));
            
            // 位运算 非递归
            var myPow1 = function (x, n) {
                if (n < 0) {
                    x = 1 / x
                    n = -n
                }
                let res = 1
                while(n) {
                    if (n & 1) res *= x // n & 1 === 1 => 奇数
                    x *= x
                    n >>= 1
                }
                return res
            }
            console.log(myPow1(2.0, 10));
            console.log(myPow1(2.1, 3));
            console.log(myPow1(2.0, -2));
        </script>
    </body>
</html>
